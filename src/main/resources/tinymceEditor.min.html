<!DOCTYPE html><html><head><script>window.onerror=function(g,e,b,d,c){var a=!d?"":"\ncolumn: "+d;a+=!c?"":"\nerror: "+c;alert("Error: "+g+"\nurl: "+e+"\nline: "+b+a);console.log("Error: "+g+"\nurl: "+e+"\nline: "+b+a);var f=true;return f};</script><link rel="stylesheet" type="text/css" href="./editor.min.css"><script src='./tinymce/jquery-3.6.0.slim.min.js'></script><script src='./tinymce/tinymce.min.js'></script><script>var insertImageButton;var insertCheckBoxButton;var printNoteButton;var saveNoteButton;var emptyRegExp=new RegExp("<p>&nbsp;</p>","g");var ANY_BOXES='<input type="checkbox"';var UNCHECKED_BOXES_1='<input type="checkbox" />';var CHECKED_BOXES_1='<input type="checkbox" checked="checked" />';var UNCHECKED_BOXES_2='<input type="checkbox">';var CHECKED_BOXES_2='<input type="checkbox" checked="checked">';var regularPaste=false;var contentChanged=false;function initEditor(){tinymce.init({selector:"#mytextarea",toolbar_sticky:true,width:"100%",height:"100%",resize:false,readonly:false,forced_root_blocks:false,relative_urls:false,remove_script_host:false,plugins:["codesample wordcount visualchars textcolor advlist autolink lists link charmap anchor image imagetools","searchreplace visualblocks code insertdatetime media table contextmenu emoticons help toc hr paste"],codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],extended_valid_elements:"form[name|id|action|method|enctype|accept-charset|onsubmit|onreset|target],input[id|name|type|value|size|maxlength|checked|accept|src|width|height|disabled|readonly|tabindex|accesskey|onfocus|onblur|onchange|onselect|onclick|onkeyup|onkeydown|required|style],textarea[id|name|rows|cols|maxlength|disabled|readonly|tabindex|accesskey|onfocus|onblur|onchange|onselect|onclick|onkeyup|onkeydown|required|style],option[name|id|value|selected|style],select[id|name|type|value|size|maxlength|checked|width|height|disabled|readonly|tabindex|accesskey|onfocus|onblur|onchange|onselect|onclick|multiple|style]",toolbar1:"saveNote printNote searchreplace | undo redo | styleselect fontselect fontsizeselect | bold italic underline strikethrough subscript superscript | charmap emoticons",toolbar2:"forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | table insertCheckBox | link insertImage insertdatetime hr toc | codesample | visualchars visualblocks code | help",menubar:false,branding:false,statusbar:true,allow_html_data_urls:true,allow_script_urls:true,paste_data_images:true,paste_as_text:true,content_style:"body {padding: 0px; margin: 0px;} .mce-content-body {font-size: 10pt;}",save_enablewhendirty:false,media_live_embeds:true,media_alt_source:false,media_poster:false,target_list:false,default_link_target:"dummy",paste_preprocess:function(b,a){if(!regularPaste){a.content="";regularPaste=true;var c=editorCallback.getClipboardContent();tinymce.activeEditor.execCommand("mceInsertClipboardContent",false,{content:c})}regularPaste=false},save_onsavecallback:function(){editorCallback.saveNote()},setup:function(a){a.on("init",function(b){$(a.getBody()).on("change","[type=checkbox]",function(c){if(c.target.checked){$(c.target).attr("checked","checked")}else{$(c.target).removeAttr("checked")}contentChanged=true;checkContentChanged()});$(a.getBody()).on("change","[type=radio]",function(d){var c='input:radio[name="'+d.target.name+'"]';$(a.getBody()).find(c).removeAttr("checked");$(d.target).attr("checked","checked");$(d.target).prop("checked",true)});$(a.getBody()).on("change","select",function(c){$(c.target).children("option").each(function(d){if(this.selected){$(this).attr("selected","selected")}else{$(this).removeAttr("selected")}})});$(a.getBody()).on("click","a",function(c){c.preventDefault();c.stopPropagation();editorCallback.openLinkInDefaultBrowser($(c.target).attr("href"),$(c.target).attr("data-note-attachment"))});a.on("OpenWindow",function(c){$(document.getElementsByClassName("tox tox-silver-sink tox-tinymce-aux")).on("click","a",function(d){d.preventDefault();editorCallback.openLinkInDefaultBrowser($(d.target).attr("href"),"no")});$(document.getElementsByClassName("tox tox-silver-sink tox-tinymce-aux")).on("copy",function(d){});$(document.getElementsByClassName("tox tox-silver-sink tox-tinymce-aux")).on("paste",function(d){});editorCallback.onOpenWindow()});a.on("CloseWindow",function(c){editorCallback.onCloseWindow()});editorCallback.initEditorDone()});a.on("Paste Change input Undo Redo",function(b){contentChanged=true});a.on("GetContent",function(b){});a.on("SetContent",function(b){editorCallback.setContentDone();contentChanged=false});a.ui.registry.addButton("insertImage",{icon:"image",tooltip:"Upload image",onSetup:function(){insertImageButton=this},onAction:function(){editorCallback.insertImage()}});a.ui.registry.addButton("insertCheckBox",{icon:"selected",tooltip:"Insert CheckBox",onSetup:function(){insertCheckBoxButton=this},onAction:function(){tinymce.activeEditor.execCommand("mceInsertContent",false,"<input type='checkbox'>");contentChanged=true;checkContentChanged()}});a.ui.registry.addButton("printNote",{icon:"print",tooltip:"Print note",onSetup:function(){printNoteButton=this},onAction:function(){editorCallback.printNote()}});a.ui.registry.addButton("saveNote",{icon:"save",tooltip:"Save note",onSetup:function(){saveNoteButton=this},onAction:function(){editorCallback.saveNote()}})}})}function allIndicesOf(e,d){var b=new RegExp(d,"g");var a;var c=[];while((a=b.exec(e))){c.push(a.index)}return c}function insertMedia(a,b){var c="<img src='data:"+a+";base64,"+b+"' >";tinymce.activeEditor.execCommand("mceInsertContent",false,c);contentChanged=true}function insertText(a){console.log("insertText "+a);tinymce.activeEditor.execCommand("mceInsertContent",false,a);contentChanged=true}function insertLinkToNoteAttachment(a,c){var b="<a href='"+a+"' data-note-attachment='yes' target='dummy'>"+c+"</a>";tinymce.activeEditor.execCommand("mceInsertContent",false,b);contentChanged=true}function unwrapCheckboxes(a){return $("<div />").append($(a).find("[type=checkbox]").unwrap("strong").unwrap("span").unwrap("em").unwrap("sub").unwrap("sup").unwrap("strong").unwrap("span").unwrap("em").unwrap("sub").unwrap("sup").unwrap("strong").unwrap("span").unwrap("em").unwrap("sub").unwrap("sup").unwrap("strong").unwrap("span").unwrap("em").unwrap("sub").unwrap("sup").unwrap("strong").unwrap("span").unwrap("em").unwrap("sub").unwrap("sup").end()).html()}function saveSetContent(b,c){var a=tinymce.activeEditor.selection.getBookmark(2,true);tinymce.activeEditor.setContent(unwrapCheckboxes(b));tinymce.activeEditor.setDirty(false);tinymce.activeEditor.undoManager.clear();if(c){tinymce.activeEditor.selection.moveToBookmark(a)}contentChanged=false}function saveGetContent(a,c){if(c){checkContentChanged()}var b="";b=tinymce.activeEditor.getContent();b=b.replace(emptyRegExp,"<p></p>");if(a){b=unwrapCheckboxes(b)}contentChanged=false;return b}function saveGetSelection(){checkContentChanged();var a="";a=tinymce.activeEditor.selection.getContent();a=a.replace(emptyRegExp,"<p></p>");return a}function scrollToCheckBox(a,d,c){var b=findCheckBox(a,d,c);if(b&&b.checkbox){b.checkbox.scrollIntoView({block:"center",inline:"nearest"});tinymce.activeEditor.selection.select(b.content);return b}else{return null}}function scrollToAndToggleCheckBox(b,e,d,a){var c=scrollToCheckBox(b,e,d);if(c&&c.checkbox&&c.checkbox.checked!==a){c.checkbox.checked=a;if(a){c.checkbox.setAttribute("checked","checked")}else{c.checkbox.removeAttribute("checked")}contentChanged=true}}function findCheckBox(a,g,b){var f;var e;var d=false;var c='id="'+b+'"';$(tinymce.activeEditor.getBody()).find(":checkbox").each(function(){f=this;$(this).parent().contents().each(function(){if("checkbox"===$(this).attr("type")){if(!d){f=this}else{return false}}if(this.nodeType===8&&!d){if(this.nodeValue.includes(c)){d=true;e=f}}if(this.nodeType===3&&d){e=this;return false}});if(d){return false}});if(d){return{checkbox:f,content:e}}$($(tinymce.activeEditor.getBody()).find(":checkbox").get().reverse()).each(function(){console.log("  findCheckBox, checking checkbox: "+this.outerHTML);f=this;$($(this).parent().contents().get().reverse()).each(function(){console.log("    findCheckBox, checking content: "+$(this).attr("type")+", "+ +this.innerHTML+", "+this.nodeType+", "+this.nodeValue);if("checkbox"===$(this).attr("type")){f=this}if(this.nodeType===3){console.log('    CONTENTS.nodeValue: "'+this.nodeValue+'"');console.log('    PARENT.textContent: "'+this.parentNode.textContent+'"');if(this.nodeValue===g||this.parentNode.textContent.endsWith(g)){console.log("    findCheckBox, found text!");d=true;if(this.nodeValue===g){e=this}else{e=this.parentNode}return false}}});if(d){return false}});if(d){return{checkbox:f,content:e}}else{return{checkbox:null,content:null}}}function checkContentChanged(){if(contentChanged){editorCallback.contentChanged(saveGetContent(true,false));contentChanged=false}}var delay=1000;var timerId=window.setTimeout(function request(){checkContentChanged();timerId=window.setTimeout(request,delay)},delay);</script></head><body><form method="post" id="editorBase"><textarea id="mytextarea"></textarea><iframe src='about:blank' name='dummy' height='0' width='0' hidden></iframe></form></body></html>